{% extends "base.html" %}

{% block lab %}Лабораторная работа 8 - Мои статьи{% endblock %}

{% block main %}
    <h1>Мои статьи</h1>
    
    <div style="margin-bottom: 20px;">
        <a href="/lab8/create_article" style="padding: 8px 15px; background-color: #28a745; color: white; text-decoration: none; border-radius: 3px; margin-right: 10px;">
            Создать новую статью
        </a>
        <a href="/lab8/" style="margin-left: 10px;">На главную</a>
    </div>
    
    {% if not articles %}
        <p>У вас пока нет статей.</p>
    {% else %}
        {% for article in articles %}
            <div style="border: 1px solid #c2b5b5; padding: 15px; margin-bottom: 15px; border-radius: 5px; {% if article['is_favorite'] %}background-color: #fffacd;{% endif %}">
                {% if article.is_favorite %}
                    <span style="color: rgb(209, 167, 115); font-weight: bold;">★ </span>
                {% endif %}
                <h3 style="margin-top: 0;">{{ article.title }}</h3>
                <div style="margin-bottom: 10px; color: #666; font-size: 0.9em;">
                    ID: {{ article.id }} | 
                    {% if article.is_public %}
                        <span style="color: rgb(142, 216, 142); margin-right: 10px;">Публичная</span>
                    {% else %}
                        <span style="color: rgb(143, 105, 105); margin-right: 10px;">Приватная</span>
                    {% endif %}
                </div>
                <div style="margin-bottom: 15px; white-space: pre-line;">{{ article.article_text }}</div>
                <div>
                    <a href="/lab5/edit/{{ article['id'] }}" style="color: rgb(163, 216, 241); margin-right: 10px;">Редактировать</a>
                    <a href="/lab5/delete/{{ article['id'] }}" style="color: rgb(202, 103, 103);" 
                       onclick="return confirm('Вы уверены, что хотите удалить эту статью?')">Удалить</a>
                </div>
            </div>
        {% endfor %}
    {% endif %}
{% endblock %}